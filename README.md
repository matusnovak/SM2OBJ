# SM2OBJ - StarMade Blueprint to OBJ exporter

This program will exports blueprints from StarMade into the OBJ file alongside with UV maps and textures (in four available formats: PNG, BMP, TGA, TIFF). The latest version of block configuration and textures are used to export the blueprint, these files are extracted directly from StarMade installation folder.

**Check out main thread at StarMadeDock.net [here](http://starmadedock.net/threads/i-made-an-obj-exporter-for-blueprints-now-you-can-import-your-ships-to-any-3d-modeling-program.7994/)**

## This software uses following libraries

* [FragmentFramework](http://matusnovak.github.io/fragmentframework/index.html) - A framework and a wrapper for several libraries listed in [FFW home page](http://matusnovak.github.io/fragmentframework/index.html) 
* [Zlib](http://www.zlib.net/) - Data decompression, required to decompress chunks.

## How to export the blueprint

This exporter comes with a GUI for easier use. The binary release can be found [here at github](https://github.com/matusnovak/SM2OBJ/releases).

![GUI Screenshot](http://i.imgur.com/5ymiuKY.jpg)

Before you continue, make sure that you have at least 500 MB of empty HDD space. This space is used only for temporary use. The target OBJ file will be much smaller. If you are exporting extremely large structures, the used space can rise up to 2 GB.

## How to import exported OBJ to Blender

Import the OBJ as usual and make sure you check "search for textures" in import options. Materials should appear alongside with textures. If not, copy .obj and .mtl file to "texture" folder (which was created if you checked "export textures") and import it again. 

Blender will not load properly alpha textures. (This is Blender issue) You will need to fix them manualy. Also, self illuminated blocks does not import properly.

## How to import exported OBJ to 3Ds Max

When importing, select "Blender" preset from drop-down list, check "Import materials" and leave "Object scale" at 1.0

It may tell you that textures have not been found. It will give you an option to add a search patch. Point it to the exported texture folder.

## How to import exported OBJ to Unreal Engine

I highly recommend to use atlases instead of tiles due to the performance. Also, you will need to import the OBJ into any other 3D modeling software and export it to the FBX format. Lightmap UV maps are not generated by SM2OBJ, you will to create them yourself (or do not use lightmaps at all and use dynamic lightning only).

## Performance

The export should not use more than 10MB of RAM. If you use more threads, the RAM usage will usually rise by ~10MB per thread.

## Bugs

* Not having enough HDD space may crash the program.

## How to compile

The libraries are compiled with MinGW-w64 i686 GCC 4.9.2 and with Visual Studio 2013 I suggest that you use the same compiler.

Prefer to use Code::Blocks project file `SM2OBJ.cbp` (or Visual Studio project file `SM2OBJ.vcproj`)

Or, to compile with command line: Include all source files in the `source` folders. Add compile search path to dependency libraries (FragmentFramework, zlib) located in `dependencies/` folder and look for `include` sub-folders and link *.DLL files located in `lib/mingw` (MinGW) or `lib/msvc` (Visual Studio).

## Please comment

If bug occurs or you have problems please report the issue. Use github issue tracker. If you have questions or suggestions please feel free to contact me at GitHub or at at my email address.

## Copyright and license

SM2OBJ is distributed under the MIT License.

Copyright (C) 2015 by Matus Novak matusnov@gmail.com
